{"ast":null,"code":"var _jsxFileName = \"/Users/wilderbaldwin/Dev/tragen/frontend/src/components/AgentPipeline.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { PlayIcon, PauseIcon, CpuChipIcon, ShieldCheckIcon, ChartBarIcon, BoltIcon, PlusIcon, ChatBubbleLeftRightIcon, PaperAirplaneIcon, XMarkIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AgentPipeline = ({\n  currentSymbol = 'NQ=F',\n  chartData = [],\n  onSignalCreated\n}) => {\n  _s();\n  const [agents, setAgents] = useState([]);\n  const [agentThoughts, setAgentThoughts] = useState({});\n  const [tradeSignals, setTradeSignals] = useState([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const [selectedModel, setSelectedModel] = useState('ollama:phi3:mini');\n  const [availableModels, setAvailableModels] = useState([]);\n  const [chatHistory, setChatHistory] = useState({});\n  const [activeChat, setActiveChat] = useState(null);\n  const [chatMessage, setChatMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const chatEndRef = useRef(null);\n\n  // Fetch agents and models on component mount\n  useEffect(() => {\n    fetchAgents();\n    fetchAvailableModels();\n  }, []);\n\n  // Check if market is open for NQ futures\n  const isMarketOpen = () => {\n    const now = new Date();\n    const et = new Date(now.toLocaleString(\"en-US\", {\n      timeZone: \"America/New_York\"\n    }));\n    const day = et.getDay(); // 0=Sunday, 6=Saturday\n    const hour = et.getHours();\n\n    // NQ trades nearly 24/5: Sunday 6 PM - Friday 5 PM ET\n    // Daily maintenance: 5-6 PM ET\n\n    if (day === 0) {\n      // Sunday\n      return hour >= 18; // 6 PM or later\n    } else if (day >= 1 && day <= 4) {\n      // Monday-Thursday\n      return hour < 17 || hour >= 18; // Before 5 PM or after 6 PM\n    } else if (day === 5) {\n      // Friday\n      return hour < 17; // Before 5 PM\n    }\n    return false; // Saturday\n  };\n\n  // Real agent analysis using current chart data\n  const triggerAgentAnalysis = useCallback(async (agentId, symbol, chartData) => {\n    if (!chartData || chartData.length === 0) return;\n    try {\n      var _recentData;\n      // Get the last 20 candles for analysis\n      const recentData = chartData.slice(-20);\n      const currentPrice = (_recentData = recentData[recentData.length - 1]) === null || _recentData === void 0 ? void 0 : _recentData.close;\n      const response = await fetch('/api/agents/analyze-chart', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          agent_id: agentId,\n          symbol: symbol,\n          chart_data: recentData,\n          current_price: currentPrice,\n          model_provider: selectedModel.split(':')[0] || 'ollama',\n          model_name: selectedModel.split(':')[1] || 'phi3:mini'\n        })\n      });\n      if (response.ok) {\n        const analysis = await response.json();\n\n        // Update agent thoughts with real analysis\n        setAgentThoughts(prev => ({\n          ...prev,\n          [agentId]: {\n            ...prev[agentId],\n            currentThought: analysis.reasoning || 'Analysis complete',\n            timestamp: new Date(),\n            status: 'active',\n            lastAnalysis: analysis\n          }\n        }));\n\n        // If analysis includes a trading signal, add it\n        if (analysis.recommendation && analysis.recommendation !== 'HOLD') {\n          const signal = {\n            id: Date.now(),\n            type: analysis.recommendation.toLowerCase(),\n            confidence: analysis.confidence / 100,\n            price: currentPrice,\n            reason: analysis.reasoning,\n            timestamp: new Date(),\n            agent: agentId,\n            symbol: symbol\n          };\n          setTradeSignals(prev => [signal, ...prev.slice(0, 9)]);\n\n          // Notify parent component to add signal to chart\n          if (onSignalCreated) {\n            onSignalCreated(signal);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Failed to trigger agent analysis:', error);\n      setAgentThoughts(prev => ({\n        ...prev,\n        [agentId]: {\n          ...prev[agentId],\n          currentThought: 'Analysis failed - connection error',\n          timestamp: new Date(),\n          status: 'error'\n        }\n      }));\n    }\n  }, [selectedModel, onSignalCreated]);\n\n  // Start real agent monitoring when running\n  useEffect(() => {\n    if (!isRunning || agents.length === 0 || chartData.length === 0) return;\n    const interval = setInterval(() => {\n      // Trigger real analysis for each agent\n      agents.forEach(agent => {\n        triggerAgentAnalysis(agent.id, currentSymbol, chartData);\n      });\n    }, 30000); // Analyze every 30 seconds to avoid rate limiting\n\n    return () => clearInterval(interval);\n  }, [isRunning, agents, chartData, currentSymbol, triggerAgentAnalysis]);\n  const fetchAgents = async () => {\n    try {\n      const response = await fetch('/api/agents');\n      const data = await response.json();\n      setAgents(data.agents || []);\n    } catch (error) {\n      console.error('Failed to fetch agents:', error);\n    }\n  };\n  const fetchAvailableModels = async () => {\n    try {\n      const response = await fetch('/api/providers/models');\n      const data = await response.json();\n      setAvailableModels(data.models || []);\n    } catch (error) {\n      console.error('Failed to fetch models:', error);\n    }\n  };\n  const createAgent = async agentType => {\n    try {\n      const response = await fetch('/api/agents', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          agent_type: agentType,\n          config: {\n            symbol: currentSymbol,\n            model: selectedModel,\n            temperature: agentType === 'risk' ? 0.0 : 0.1\n          }\n        })\n      });\n      if (response.ok) {\n        fetchAgents();\n      }\n    } catch (error) {\n      console.error('Failed to create agent:', error);\n    }\n  };\n  const switchModel = async (provider, model) => {\n    try {\n      const response = await fetch('/api/providers/switch-model', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          provider,\n          model\n        })\n      });\n      if (response.ok) {\n        setSelectedModel(`${provider}:${model}`);\n      }\n    } catch (error) {\n      console.error('Failed to switch model:', error);\n    }\n  };\n\n  // Chat functionality\n  const sendMessage = async (agentId, message) => {\n    if (!message.trim()) return;\n    setIsTyping(true);\n\n    // Add user message to chat history\n    const userMessage = {\n      id: Date.now(),\n      sender: 'user',\n      message: message.trim(),\n      timestamp: new Date()\n    };\n    setChatHistory(prev => ({\n      ...prev,\n      [agentId]: [...(prev[agentId] || []), userMessage]\n    }));\n    setChatMessage('');\n    try {\n      // Send message to agent for response\n      const response = await fetch('/api/agents/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          agent_id: agentId,\n          message: message,\n          symbol: currentSymbol,\n          chart_data: chartData.slice(-20),\n          // Last 20 candles for context\n          chat_history: chatHistory[agentId] || []\n        })\n      });\n      if (response.ok) {\n        const result = await response.json();\n\n        // Add agent response to chat history\n        const agentMessage = {\n          id: Date.now() + 1,\n          sender: 'agent',\n          message: result.response,\n          timestamp: new Date(),\n          analysis: result.analysis,\n          signal: result.signal\n        };\n        setChatHistory(prev => ({\n          ...prev,\n          [agentId]: [...(prev[agentId] || []), agentMessage]\n        }));\n\n        // If agent created a signal, add it to the chart\n        if (result.signal && onSignalCreated) {\n          onSignalCreated({\n            ...result.signal,\n            agent: agentId,\n            symbol: currentSymbol,\n            timestamp: new Date()\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Failed to send message:', error);\n\n      // Add error message\n      const errorMessage = {\n        id: Date.now() + 1,\n        sender: 'agent',\n        message: 'Sorry, I\\'m having trouble connecting right now. Please try again.',\n        timestamp: new Date(),\n        error: true\n      };\n      setChatHistory(prev => ({\n        ...prev,\n        [agentId]: [...(prev[agentId] || []), errorMessage]\n      }));\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  // Scroll to bottom of chat\n  useEffect(() => {\n    if (chatEndRef.current) {\n      chatEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [chatHistory, activeChat]);\n\n  // Quick action to request analysis\n  const requestAnalysis = async agentId => {\n    await sendMessage(agentId, `Please analyze the current ${currentSymbol} chart and provide your trading recommendation with reasoning.`);\n  };\n\n  // Quick action to place signal\n  const requestSignal = async (agentId, signalType) => {\n    const currentPrice = chartData.length > 0 ? chartData[chartData.length - 1].close : 0;\n    await sendMessage(agentId, `Based on the current ${currentSymbol} chart analysis, please place a ${signalType.toUpperCase()} signal at the current price of $${currentPrice}. Explain your reasoning.`);\n  };\n  const getAgentIcon = type => {\n    switch (type) {\n      case 'analysis':\n        return /*#__PURE__*/_jsxDEV(ChartBarIcon, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 16\n        }, this);\n      case 'execution':\n        return /*#__PURE__*/_jsxDEV(BoltIcon, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 16\n        }, this);\n      case 'risk':\n        return /*#__PURE__*/_jsxDEV(ShieldCheckIcon, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(CpuChipIcon, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getSignalColor = type => {\n    switch (type) {\n      case 'buy':\n        return 'text-green-400 border-green-500 bg-green-500 bg-opacity-10';\n      case 'sell':\n        return 'text-red-400 border-red-500 bg-red-500 bg-opacity-10';\n      default:\n        return 'text-gray-400 border-gray-600 bg-gray-600 bg-opacity-10';\n    }\n  };\n  const getAgentStatusColor = status => {\n    switch (status) {\n      case 'active':\n        return 'bg-green-500';\n      case 'analyzing':\n        return 'bg-yellow-500 animate-pulse';\n      case 'error':\n        return 'bg-red-500';\n      default:\n        return 'bg-gray-500';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-eerie-black-tertiary rounded-lg border border-dim-grey-700 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-white flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(CpuChipIcon, {\n            className: \"w-6 h-6 text-robin-egg-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"AI Agent Pipeline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-300\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500\",\n              children: \"Trading:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold text-blue-400 ml-1\",\n              children: currentSymbol\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedModel,\n            onChange: e => {\n              const [provider, model] = e.target.value.split(':');\n              switchModel(provider, model);\n            },\n            className: \"bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm focus:border-blue-500 focus:outline-none\",\n            children: availableModels.map(model => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: `${model.provider}:${model.name}`,\n              children: [model.provider, \": \", model.name]\n            }, `${model.provider}:${model.name}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsRunning(!isRunning),\n            className: `flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${isRunning ? 'bg-red-600 hover:bg-red-700 text-white' : 'bg-green-600 hover:bg-green-700 text-white'}`,\n            children: isRunning ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(PauseIcon, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Stop Analysis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(PlayIcon, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Start Analysis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: ['analysis', 'execution', 'risk'].map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => createAgent(type),\n          className: \"flex items-center space-x-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white text-sm transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(PlusIcon, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Create \", type, \" Agent\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this)]\n        }, type, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 bg-gray-800 rounded-lg border border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b border-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-white\",\n            children: [\"AI Trading Agents (\", agents.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 space-y-4 max-h-96 overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n            children: agents.map((agent, index) => {\n              var _agentThoughts$agent$, _agentThoughts$agent$2, _agentThoughts$agent$3, _agentThoughts$agent$4;\n              return /*#__PURE__*/_jsxDEV(motion.div, {\n                initial: {\n                  opacity: 0,\n                  y: 20\n                },\n                animate: {\n                  opacity: 1,\n                  y: 0\n                },\n                exit: {\n                  opacity: 0,\n                  y: -20\n                },\n                transition: {\n                  delay: index * 0.1\n                },\n                className: \"bg-gray-700 rounded-lg p-4 border border-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start justify-between mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-blue-400\",\n                      children: getAgentIcon(agent.type)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 431,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-medium text-white capitalize\",\n                        children: [agent.type, \" Agent\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 435,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-400\",\n                        children: [currentSymbol, \" \\u2022 \", selectedModel.split(':')[1] || 'AI Model']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 438,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `w-2 h-2 rounded-full ${getAgentStatusColor(((_agentThoughts$agent$ = agentThoughts[agent.id]) === null || _agentThoughts$agent$ === void 0 ? void 0 : _agentThoughts$agent$.status) || 'idle')}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 445,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-400\",\n                      children: ((_agentThoughts$agent$2 = agentThoughts[agent.id]) === null || _agentThoughts$agent$2 === void 0 ? void 0 : _agentThoughts$agent$2.status) || 'idle'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setActiveChat(agent.id),\n                      className: \"p-1 text-gray-400 hover:text-blue-400 transition-colors\",\n                      title: \"Chat with agent\",\n                      children: /*#__PURE__*/_jsxDEV(ChatBubbleLeftRightIcon, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 456,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 flex flex-wrap gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => requestAnalysis(agent.id),\n                    className: \"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors\",\n                    children: \"Analyze Chart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => requestSignal(agent.id, 'buy'),\n                    className: \"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded transition-colors\",\n                    children: \"Buy Signal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => requestSignal(agent.id, 'sell'),\n                    className: \"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded transition-colors\",\n                    children: \"Sell Signal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 19\n                }, this), ((_agentThoughts$agent$3 = agentThoughts[agent.id]) === null || _agentThoughts$agent$3 === void 0 ? void 0 : _agentThoughts$agent$3.currentThought) && /*#__PURE__*/_jsxDEV(motion.div, {\n                  initial: {\n                    opacity: 0\n                  },\n                  animate: {\n                    opacity: 1\n                  },\n                  className: \"bg-gray-800 rounded-lg p-3 border border-gray-600 mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-300\",\n                    children: agentThoughts[agent.id].currentThought\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 mt-1\",\n                    children: (_agentThoughts$agent$4 = agentThoughts[agent.id].timestamp) === null || _agentThoughts$agent$4 === void 0 ? void 0 : _agentThoughts$agent$4.toLocaleTimeString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 23\n                  }, this)]\n                }, agentThoughts[agent.id].timestamp, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this)]\n              }, agent.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), agents.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 text-gray-400\",\n            children: [/*#__PURE__*/_jsxDEV(CpuChipIcon, {\n              className: \"w-12 h-12 mx-auto mb-4 opacity-50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No active agents\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm mt-1\",\n              children: \"Create agents to start real-time analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded-lg border border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b border-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white\",\n              children: \"Agent Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this), activeChat && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveChat(null),\n              className: \"text-gray-400 hover:text-white p-1\",\n              children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this), activeChat ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col h-96\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 p-4 overflow-y-auto space-y-3\",\n            children: [(chatHistory[activeChat] || []).map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${message.sender === 'user' ? 'bg-blue-600 text-white' : message.error ? 'bg-red-600 text-white' : 'bg-gray-700 text-gray-100'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm\",\n                  children: message.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs opacity-75 mt-1\",\n                  children: message.timestamp.toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 23\n                }, this), message.signal && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 p-2 bg-gray-800 rounded text-xs\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Signal:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 27\n                  }, this), \" \", message.signal.type.toUpperCase(), \" at $\", message.signal.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 21\n              }, this)\n            }, message.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 19\n            }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-start\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-700 text-gray-100 px-4 py-2 rounded-lg\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex space-x-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                    style: {\n                      animationDelay: '0.1s'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                    style: {\n                      animationDelay: '0.2s'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 567,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: chatEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-t border-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: chatMessage,\n                onChange: e => setChatMessage(e.target.value),\n                onKeyPress: e => {\n                  if (e.key === 'Enter' && !e.shiftKey) {\n                    e.preventDefault();\n                    sendMessage(activeChat, chatMessage);\n                  }\n                },\n                placeholder: \"Ask about the chart, request analysis, or place signals...\",\n                className: \"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500\",\n                disabled: isTyping\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => sendMessage(activeChat, chatMessage),\n                disabled: !chatMessage.trim() || isTyping,\n                className: \"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 597,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-8 text-center text-gray-400\",\n          children: [/*#__PURE__*/_jsxDEV(ChatBubbleLeftRightIcon, {\n            className: \"w-12 h-12 mx-auto mb-4 opacity-50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Select an agent to start chatting\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm mt-1\",\n            children: \"Ask about market analysis, request signals, or get trading insights\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 340,\n    columnNumber: 5\n  }, this);\n};\n_s(AgentPipeline, \"kUT3Y9amVo2ZGurUgeM9XjVg1tc=\");\n_c = AgentPipeline;\nexport default AgentPipeline;\nvar _c;\n$RefreshReg$(_c, \"AgentPipeline\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","motion","AnimatePresence","PlayIcon","PauseIcon","CpuChipIcon","ShieldCheckIcon","ChartBarIcon","BoltIcon","PlusIcon","ChatBubbleLeftRightIcon","PaperAirplaneIcon","XMarkIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","AgentPipeline","currentSymbol","chartData","onSignalCreated","_s","agents","setAgents","agentThoughts","setAgentThoughts","tradeSignals","setTradeSignals","isRunning","setIsRunning","selectedModel","setSelectedModel","availableModels","setAvailableModels","chatHistory","setChatHistory","activeChat","setActiveChat","chatMessage","setChatMessage","isTyping","setIsTyping","chatEndRef","fetchAgents","fetchAvailableModels","isMarketOpen","now","Date","et","toLocaleString","timeZone","day","getDay","hour","getHours","triggerAgentAnalysis","agentId","symbol","length","_recentData","recentData","slice","currentPrice","close","response","fetch","method","headers","body","JSON","stringify","agent_id","chart_data","current_price","model_provider","split","model_name","ok","analysis","json","prev","currentThought","reasoning","timestamp","status","lastAnalysis","recommendation","signal","id","type","toLowerCase","confidence","price","reason","agent","error","console","interval","setInterval","forEach","clearInterval","data","models","createAgent","agentType","agent_type","config","model","temperature","switchModel","provider","sendMessage","message","trim","userMessage","sender","chat_history","result","agentMessage","errorMessage","current","scrollIntoView","behavior","requestAnalysis","requestSignal","signalType","toUpperCase","getAgentIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getSignalColor","getAgentStatusColor","children","value","onChange","e","target","map","name","onClick","index","_agentThoughts$agent$","_agentThoughts$agent$2","_agentThoughts$agent$3","_agentThoughts$agent$4","div","initial","opacity","y","animate","exit","transition","delay","title","toLocaleTimeString","style","animationDelay","ref","onKeyPress","key","shiftKey","preventDefault","placeholder","disabled","_c","$RefreshReg$"],"sources":["/Users/wilderbaldwin/Dev/tragen/frontend/src/components/AgentPipeline.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  PlayIcon,\n  PauseIcon,\n  CpuChipIcon,\n  ShieldCheckIcon,\n  ChartBarIcon,\n  BoltIcon,\n  PlusIcon,\n  ChatBubbleLeftRightIcon,\n  PaperAirplaneIcon,\n  XMarkIcon,\n} from '@heroicons/react/24/outline';\n\nconst AgentPipeline = ({ currentSymbol = 'NQ=F', chartData = [], onSignalCreated }) => {\n  const [agents, setAgents] = useState([]);\n  const [agentThoughts, setAgentThoughts] = useState({});\n  const [tradeSignals, setTradeSignals] = useState([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const [selectedModel, setSelectedModel] = useState('ollama:phi3:mini');\n  const [availableModels, setAvailableModels] = useState([]);\n  const [chatHistory, setChatHistory] = useState({});\n  const [activeChat, setActiveChat] = useState(null);\n  const [chatMessage, setChatMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const chatEndRef = useRef(null);\n\n  // Fetch agents and models on component mount\n  useEffect(() => {\n    fetchAgents();\n    fetchAvailableModels();\n  }, []);\n\n  // Check if market is open for NQ futures\n  const isMarketOpen = () => {\n    const now = new Date();\n    const et = new Date(now.toLocaleString(\"en-US\", {timeZone: \"America/New_York\"}));\n    const day = et.getDay(); // 0=Sunday, 6=Saturday\n    const hour = et.getHours();\n    \n    // NQ trades nearly 24/5: Sunday 6 PM - Friday 5 PM ET\n    // Daily maintenance: 5-6 PM ET\n    \n    if (day === 0) { // Sunday\n      return hour >= 18; // 6 PM or later\n    } else if (day >= 1 && day <= 4) { // Monday-Thursday\n      return hour < 17 || hour >= 18; // Before 5 PM or after 6 PM\n    } else if (day === 5) { // Friday\n      return hour < 17; // Before 5 PM\n    }\n    return false; // Saturday\n  };\n\n  // Real agent analysis using current chart data\n  const triggerAgentAnalysis = useCallback(async (agentId, symbol, chartData) => {\n    if (!chartData || chartData.length === 0) return;\n    \n    try {\n      // Get the last 20 candles for analysis\n      const recentData = chartData.slice(-20);\n      const currentPrice = recentData[recentData.length - 1]?.close;\n      \n      const response = await fetch('/api/agents/analyze-chart', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          agent_id: agentId,\n          symbol: symbol,\n          chart_data: recentData,\n          current_price: currentPrice,\n          model_provider: selectedModel.split(':')[0] || 'ollama',\n          model_name: selectedModel.split(':')[1] || 'phi3:mini'\n        })\n      });\n      \n      if (response.ok) {\n        const analysis = await response.json();\n        \n        // Update agent thoughts with real analysis\n        setAgentThoughts(prev => ({\n          ...prev,\n          [agentId]: {\n            ...prev[agentId],\n            currentThought: analysis.reasoning || 'Analysis complete',\n            timestamp: new Date(),\n            status: 'active',\n            lastAnalysis: analysis\n          }\n        }));\n        \n        // If analysis includes a trading signal, add it\n        if (analysis.recommendation && analysis.recommendation !== 'HOLD') {\n          const signal = {\n            id: Date.now(),\n            type: analysis.recommendation.toLowerCase(),\n            confidence: analysis.confidence / 100,\n            price: currentPrice,\n            reason: analysis.reasoning,\n            timestamp: new Date(),\n            agent: agentId,\n            symbol: symbol\n          };\n          \n          setTradeSignals(prev => [signal, ...prev.slice(0, 9)]);\n          \n          // Notify parent component to add signal to chart\n          if (onSignalCreated) {\n            onSignalCreated(signal);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Failed to trigger agent analysis:', error);\n      setAgentThoughts(prev => ({\n        ...prev,\n        [agentId]: {\n          ...prev[agentId],\n          currentThought: 'Analysis failed - connection error',\n          timestamp: new Date(),\n          status: 'error'\n        }\n      }));\n    }\n  }, [selectedModel, onSignalCreated]);\n\n  // Start real agent monitoring when running\n  useEffect(() => {\n    if (!isRunning || agents.length === 0 || chartData.length === 0) return;\n\n    const interval = setInterval(() => {\n      // Trigger real analysis for each agent\n      agents.forEach(agent => {\n        triggerAgentAnalysis(agent.id, currentSymbol, chartData);\n      });\n    }, 30000); // Analyze every 30 seconds to avoid rate limiting\n\n    return () => clearInterval(interval);\n  }, [isRunning, agents, chartData, currentSymbol, triggerAgentAnalysis]);\n\n  const fetchAgents = async () => {\n    try {\n      const response = await fetch('/api/agents');\n      const data = await response.json();\n      setAgents(data.agents || []);\n    } catch (error) {\n      console.error('Failed to fetch agents:', error);\n    }\n  };\n\n  const fetchAvailableModels = async () => {\n    try {\n      const response = await fetch('/api/providers/models');\n      const data = await response.json();\n      setAvailableModels(data.models || []);\n    } catch (error) {\n      console.error('Failed to fetch models:', error);\n    }\n  };\n\n  const createAgent = async (agentType) => {\n    try {\n      const response = await fetch('/api/agents', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          agent_type: agentType,\n          config: {\n            symbol: currentSymbol,\n            model: selectedModel,\n            temperature: agentType === 'risk' ? 0.0 : 0.1,\n          },\n        }),\n      });\n      \n      if (response.ok) {\n        fetchAgents();\n      }\n    } catch (error) {\n      console.error('Failed to create agent:', error);\n    }\n  };\n\n  const switchModel = async (provider, model) => {\n    try {\n      const response = await fetch('/api/providers/switch-model', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ provider, model }),\n      });\n      \n      if (response.ok) {\n        setSelectedModel(`${provider}:${model}`);\n      }\n    } catch (error) {\n      console.error('Failed to switch model:', error);\n    }\n  };\n  \n  // Chat functionality\n  const sendMessage = async (agentId, message) => {\n    if (!message.trim()) return;\n    \n    setIsTyping(true);\n    \n    // Add user message to chat history\n    const userMessage = {\n      id: Date.now(),\n      sender: 'user',\n      message: message.trim(),\n      timestamp: new Date()\n    };\n    \n    setChatHistory(prev => ({\n      ...prev,\n      [agentId]: [...(prev[agentId] || []), userMessage]\n    }));\n    \n    setChatMessage('');\n    \n    try {\n      // Send message to agent for response\n      const response = await fetch('/api/agents/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          agent_id: agentId,\n          message: message,\n          symbol: currentSymbol,\n          chart_data: chartData.slice(-20), // Last 20 candles for context\n          chat_history: chatHistory[agentId] || []\n        })\n      });\n      \n      if (response.ok) {\n        const result = await response.json();\n        \n        // Add agent response to chat history\n        const agentMessage = {\n          id: Date.now() + 1,\n          sender: 'agent',\n          message: result.response,\n          timestamp: new Date(),\n          analysis: result.analysis,\n          signal: result.signal\n        };\n        \n        setChatHistory(prev => ({\n          ...prev,\n          [agentId]: [...(prev[agentId] || []), agentMessage]\n        }));\n        \n        // If agent created a signal, add it to the chart\n        if (result.signal && onSignalCreated) {\n          onSignalCreated({\n            ...result.signal,\n            agent: agentId,\n            symbol: currentSymbol,\n            timestamp: new Date()\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Failed to send message:', error);\n      \n      // Add error message\n      const errorMessage = {\n        id: Date.now() + 1,\n        sender: 'agent',\n        message: 'Sorry, I\\'m having trouble connecting right now. Please try again.',\n        timestamp: new Date(),\n        error: true\n      };\n      \n      setChatHistory(prev => ({\n        ...prev,\n        [agentId]: [...(prev[agentId] || []), errorMessage]\n      }));\n    } finally {\n      setIsTyping(false);\n    }\n  };\n  \n  // Scroll to bottom of chat\n  useEffect(() => {\n    if (chatEndRef.current) {\n      chatEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [chatHistory, activeChat]);\n  \n  // Quick action to request analysis\n  const requestAnalysis = async (agentId) => {\n    await sendMessage(agentId, `Please analyze the current ${currentSymbol} chart and provide your trading recommendation with reasoning.`);\n  };\n  \n  // Quick action to place signal\n  const requestSignal = async (agentId, signalType) => {\n    const currentPrice = chartData.length > 0 ? chartData[chartData.length - 1].close : 0;\n    await sendMessage(agentId, `Based on the current ${currentSymbol} chart analysis, please place a ${signalType.toUpperCase()} signal at the current price of $${currentPrice}. Explain your reasoning.`);\n  };\n\n  const getAgentIcon = (type) => {\n    switch (type) {\n      case 'analysis':\n        return <ChartBarIcon className=\"w-6 h-6\" />;\n      case 'execution':\n        return <BoltIcon className=\"w-6 h-6\" />;\n      case 'risk':\n        return <ShieldCheckIcon className=\"w-6 h-6\" />;\n      default:\n        return <CpuChipIcon className=\"w-6 h-6\" />;\n    }\n  };\n\n  const getSignalColor = (type) => {\n    switch (type) {\n      case 'buy':\n        return 'text-green-400 border-green-500 bg-green-500 bg-opacity-10';\n      case 'sell':\n        return 'text-red-400 border-red-500 bg-red-500 bg-opacity-10';\n      default:\n        return 'text-gray-400 border-gray-600 bg-gray-600 bg-opacity-10';\n    }\n  };\n  \n  const getAgentStatusColor = (status) => {\n    switch (status) {\n      case 'active':\n        return 'bg-green-500';\n      case 'analyzing':\n        return 'bg-yellow-500 animate-pulse';\n      case 'error':\n        return 'bg-red-500';\n      default:\n        return 'bg-gray-500';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Control Panel */}\n      <div className=\"bg-eerie-black-tertiary rounded-lg border border-dim-grey-700 p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-xl font-semibold text-white flex items-center space-x-2\">\n            <CpuChipIcon className=\"w-6 h-6 text-robin-egg-500\" />\n            <span>AI Agent Pipeline</span>\n          </h2>\n          \n          <div className=\"flex items-center space-x-4\">\n            {/* Current Symbol Display */}\n            <div className=\"text-sm text-gray-300\">\n              <span className=\"text-gray-500\">Trading:</span>\n              <span className=\"font-semibold text-blue-400 ml-1\">{currentSymbol}</span>\n            </div>\n            \n            {/* Model Selector */}\n            <select\n              value={selectedModel}\n              onChange={(e) => {\n                const [provider, model] = e.target.value.split(':');\n                switchModel(provider, model);\n              }}\n              className=\"bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm focus:border-blue-500 focus:outline-none\"\n            >\n              {availableModels.map((model) => (\n                <option key={`${model.provider}:${model.name}`} value={`${model.provider}:${model.name}`}>\n                  {model.provider}: {model.name}\n                </option>\n              ))}\n            </select>\n            \n            {/* Start/Stop Button */}\n            <button\n              onClick={() => setIsRunning(!isRunning)}\n              className={`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${\n                isRunning\n                  ? 'bg-red-600 hover:bg-red-700 text-white'\n                  : 'bg-green-600 hover:bg-green-700 text-white'\n              }`}\n            >\n              {isRunning ? (\n                <>\n                  <PauseIcon className=\"w-4 h-4\" />\n                  <span>Stop Analysis</span>\n                </>\n              ) : (\n                <>\n                  <PlayIcon className=\"w-4 h-4\" />\n                  <span>Start Analysis</span>\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n\n        {/* Agent Creation */}\n        <div className=\"flex flex-wrap gap-2\">\n          {['analysis', 'execution', 'risk'].map((type) => (\n            <button\n              key={type}\n              onClick={() => createAgent(type)}\n              className=\"flex items-center space-x-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white text-sm transition-colors\"\n            >\n              <PlusIcon className=\"w-4 h-4\" />\n              <span>Create {type} Agent</span>\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Active Agents */}\n        <div className=\"lg:col-span-2 bg-gray-800 rounded-lg border border-gray-700\">\n          <div className=\"p-4 border-b border-gray-700\">\n            <h3 className=\"text-lg font-semibold text-white\">AI Trading Agents ({agents.length})</h3>\n          </div>\n          \n          <div className=\"p-4 space-y-4 max-h-96 overflow-y-auto\">\n            <AnimatePresence>\n              {agents.map((agent, index) => (\n                <motion.div\n                  key={agent.id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -20 }}\n                  transition={{ delay: index * 0.1 }}\n                  className=\"bg-gray-700 rounded-lg p-4 border border-gray-600\"\n                >\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"text-blue-400\">\n                        {getAgentIcon(agent.type)}\n                      </div>\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-medium text-white capitalize\">\n                          {agent.type} Agent\n                        </h4>\n                        <p className=\"text-xs text-gray-400\">\n                          {currentSymbol}  {selectedModel.split(':')[1] || 'AI Model'}\n                        </p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2\">\n                      <div className={`w-2 h-2 rounded-full ${\n                        getAgentStatusColor(agentThoughts[agent.id]?.status || 'idle')\n                      }`} />\n                      <span className=\"text-xs text-gray-400\">\n                        {agentThoughts[agent.id]?.status || 'idle'}\n                      </span>\n                      <button\n                        onClick={() => setActiveChat(agent.id)}\n                        className=\"p-1 text-gray-400 hover:text-blue-400 transition-colors\"\n                        title=\"Chat with agent\"\n                      >\n                        <ChatBubbleLeftRightIcon className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </div>\n                  \n                  {/* Agent Actions */}\n                  <div className=\"mt-3 flex flex-wrap gap-2\">\n                    <button\n                      onClick={() => requestAnalysis(agent.id)}\n                      className=\"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors\"\n                    >\n                      Analyze Chart\n                    </button>\n                    <button\n                      onClick={() => requestSignal(agent.id, 'buy')}\n                      className=\"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded transition-colors\"\n                    >\n                      Buy Signal\n                    </button>\n                    <button\n                      onClick={() => requestSignal(agent.id, 'sell')}\n                      className=\"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded transition-colors\"\n                    >\n                      Sell Signal\n                    </button>\n                  </div>\n                  \n                  {/* Last Analysis */}\n                  {agentThoughts[agent.id]?.currentThought && (\n                    <motion.div\n                      key={agentThoughts[agent.id].timestamp}\n                      initial={{ opacity: 0 }}\n                      animate={{ opacity: 1 }}\n                      className=\"bg-gray-800 rounded-lg p-3 border border-gray-600 mt-3\"\n                    >\n                      <p className=\"text-sm text-gray-300\">\n                        {agentThoughts[agent.id].currentThought}\n                      </p>\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        {agentThoughts[agent.id].timestamp?.toLocaleTimeString()}\n                      </p>\n                    </motion.div>\n                  )}\n                </motion.div>\n              ))}\n            </AnimatePresence>\n            \n            {agents.length === 0 && (\n              <div className=\"text-center py-8 text-gray-400\">\n                <CpuChipIcon className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n                <p>No active agents</p>\n                <p className=\"text-sm mt-1\">Create agents to start real-time analysis</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Agent Chat Interface */}\n        <div className=\"bg-gray-800 rounded-lg border border-gray-700\">\n          <div className=\"p-4 border-b border-gray-700\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-lg font-semibold text-white\">Agent Chat</h3>\n              {activeChat && (\n                <button\n                  onClick={() => setActiveChat(null)}\n                  className=\"text-gray-400 hover:text-white p-1\"\n                >\n                  <XMarkIcon className=\"w-4 h-4\" />\n                </button>\n              )}\n            </div>\n          </div>\n          \n          {activeChat ? (\n            <div className=\"flex flex-col h-96\">\n              {/* Chat Messages */}\n              <div className=\"flex-1 p-4 overflow-y-auto space-y-3\">\n                {(chatHistory[activeChat] || []).map((message) => (\n                  <div\n                    key={message.id}\n                    className={`flex ${\n                      message.sender === 'user' ? 'justify-end' : 'justify-start'\n                    }`}\n                  >\n                    <div\n                      className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n                        message.sender === 'user'\n                          ? 'bg-blue-600 text-white'\n                          : message.error\n                          ? 'bg-red-600 text-white'\n                          : 'bg-gray-700 text-gray-100'\n                      }`}\n                    >\n                      <p className=\"text-sm\">{message.message}</p>\n                      <p className=\"text-xs opacity-75 mt-1\">\n                        {message.timestamp.toLocaleTimeString()}\n                      </p>\n                      {message.signal && (\n                        <div className=\"mt-2 p-2 bg-gray-800 rounded text-xs\">\n                          <strong>Signal:</strong> {message.signal.type.toUpperCase()} at ${message.signal.price}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n                {isTyping && (\n                  <div className=\"flex justify-start\">\n                    <div className=\"bg-gray-700 text-gray-100 px-4 py-2 rounded-lg\">\n                      <div className=\"flex space-x-1\">\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n                <div ref={chatEndRef} />\n              </div>\n              \n              {/* Chat Input */}\n              <div className=\"p-4 border-t border-gray-700\">\n                <div className=\"flex space-x-2\">\n                  <input\n                    type=\"text\"\n                    value={chatMessage}\n                    onChange={(e) => setChatMessage(e.target.value)}\n                    onKeyPress={(e) => {\n                      if (e.key === 'Enter' && !e.shiftKey) {\n                        e.preventDefault();\n                        sendMessage(activeChat, chatMessage);\n                      }\n                    }}\n                    placeholder=\"Ask about the chart, request analysis, or place signals...\"\n                    className=\"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500\"\n                    disabled={isTyping}\n                  />\n                  <button\n                    onClick={() => sendMessage(activeChat, chatMessage)}\n                    disabled={!chatMessage.trim() || isTyping}\n                    className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-colors\"\n                  >\n                    <PaperAirplaneIcon className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"p-8 text-center text-gray-400\">\n              <ChatBubbleLeftRightIcon className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n              <p>Select an agent to start chatting</p>\n              <p className=\"text-sm mt-1\">Ask about market analysis, request signals, or get trading insights</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AgentPipeline;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}